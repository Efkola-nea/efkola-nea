<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <title>Î•ÏÎºÎ¿Î»ÎµÏ‚ Î•Î¹Î´Î®ÏƒÎµÎ¹Ï‚</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Bootstrap CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
    crossorigin="anonymous"
  />

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background-color: #ffffff;
      font-size: 18px; /* Î»Î¯Î³Î¿ Ï€Î¹Î¿ Î¼ÎµÎ³Î¬Î»Î± Î³ÏÎ¬Î¼Î¼Î±Ï„Î± */
      line-height: 1.6;
    }

    .site-header {
      background: #1d4ed8;
      color: white;
      padding: 1.2rem 0;
      margin-bottom: 1.2rem;
    }

    .site-title {
      font-size: 1.8rem;
      font-weight: 700;
    }

    .site-subtitle {
      font-size: 1rem;
      margin-top: 0.3rem;
      opacity: 0.95;
    }

    /* Ï€Î±Î»Î¹Î¬ article-card, ÎºÏÎ±Ï„Î¬Î¼Îµ ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Ï€Î¿Ï… Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯ Î±Î»Î»Î¿Ï */
    .article-card {
      border-radius: 16px;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.08);
      border: 1px solid #e5e7eb;
      background-color: #f9fafb;
    }

    .article-card h2 {
      font-size: 1.25rem;
      font-weight: 700;
    }

    .article-text {
      font-size: 1rem;
    }

    .source {
      font-size: 0.9rem;
      color: #4b5563;
    }

    #status {
      text-align: center;
      color: #4b5563;
      margin-bottom: 1rem;
    }

    .btn-listen {
      font-size: 0.95rem;
    }

    /* ===== Weather widget ===== */
    .weather-card {
      border-radius: 18px;
      border: 1px solid #bfdbfe;
      background: #eff6ff;
      box-shadow: 0 2px 6px rgba(37, 99, 235, 0.15);
    }

    .weather-icon {
      font-size: 2.6rem;
      line-height: 1;
    }

    .weather-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 0.15rem;
    }

    .weather-text-main {
      font-size: 1rem;
    }

    .weather-text-sub {
      font-size: 0.95rem;
      color: #4b5563;
      margin-top: 0.15rem;
    }

    /* ===== ÎšÎ¬ÏÏ„ÎµÏ‚ Î¬ÏÎ¸ÏÏ‰Î½ (Ï‡Ï‰ÏÎ¯Ï‚ ÎµÎ¹ÎºÏŒÎ½Î±) ===== */
    .article-card-grid {
      cursor: pointer;
      border-radius: 18px;
      padding: 0.9rem 1rem;
      background-color: #ffffff;
      box-shadow: 0 3px 8px rgba(15, 23, 42, 0.08);
      transition: transform 0.15s ease, box-shadow 0.15s ease, background-color 0.15s ease;
      border: 1px solid #e5e7eb;
    }

    .article-card-grid:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(15, 23, 42, 0.16);
      background-color: #f9fafb;
    }

    .article-card-title {
      font-size: 1.05rem;
      font-weight: 700;
      color: #111827;
      margin-bottom: 0.25rem;
    }

    .article-card-meta {
      font-size: 0.85rem;
      color: #6b7280;
    }

    /* ===== Î Î»Î­Î³Î¼Î± ÎºÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½ ÏƒÏ„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ® ===== */
    .category-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.75rem;
    }

    @media (min-width: 768px) {
      .category-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
      }
    }

    @media (min-width: 992px) {
      .category-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
      }
    }

    .category-tile {
      border-radius: 18px;
      padding: 0.9rem 1rem;
      background: #eff6ff;
      border: 1px solid #bfdbfe;
      box-shadow: 0 2px 6px rgba(37, 99, 235, 0.12);
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
      transition: transform 0.12s ease, box-shadow 0.12s ease, background-color 0.12s ease;
    }

    .category-tile:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(15, 23, 42, 0.18);
      background: #dbeafe;
    }

    .category-tile.active {
      background: #1d4ed8;
      color: #ffffff;
      border-color: #1d4ed8;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.45);
    }

    .category-tile-emoji {
      font-size: 1.5rem;
    }

    .category-tile-title {
      font-weight: 700;
      font-size: 1.05rem;
    }

    .category-tile-subtitle {
      font-size: 0.9rem;
      opacity: 0.9;
    }

    /* ÎšÏÏÎ²Î¿Ï…Î¼Îµ Ï„Î·Î½ Ï€Î±Î»Î¹Î¬ ÏƒÎµÎ¹ÏÎ¬ Î¼Îµ ÎºÎ¿Ï…Î¼Ï€Î¹Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½, Î±Î»Î»Î¬ Ï„Î·Î½ ÎºÏÎ±Ï„Î¬Î¼Îµ ÏƒÏ„Î¿ DOM */
    .category-buttons-row {
      display: none;
    }
  </style>
</head>
<body>
  <!-- Î•Ï€Î¬Î½Ï‰ Î¼Ï€Î¬ÏÎ± -->
  <header class="site-header">
    <div class="container">
      <div class="d-flex flex-column flex-md-row align-items-md-center justify-content-between gap-2">
        <div>
          <div class="site-title">ğŸ“° Î•ÏÎºÎ¿Î»ÎµÏ‚ Î•Î¹Î´Î®ÏƒÎµÎ¹Ï‚</div>
          <div class="site-subtitle">ÎŸÎ¹ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ ÏƒÎµ Î±Ï€Î»Î¬ ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬</div>
        </div>
        <div class="text-md-end">
          <span class="badge bg-light text-dark">Î“Î¹Î± Î¬Ï„Î¿Î¼Î± Î¼Îµ Î½Î¿Î·Ï„Î¹ÎºÎ® Ï…ÏƒÏ„Î­ÏÎ·ÏƒÎ·</span>
        </div>
      </div>
    </div>
  </header>

  <!-- Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ -->
  <main class="container mb-5">

    <!-- ğŸ”† WEATHER WIDGET Î Î‘ÎÎ© Î‘Î ÎŸ Î¤Î™Î£ Î•Î™Î”Î—Î£Î•Î™Î£ -->
    <section class="mb-4">
      <div class="card weather-card">
        <div class="card-body d-flex align-items-center gap-3">
          <div id="weather-icon" class="weather-icon">â›…</div>
          <div class="flex-grow-1">
            <div class="weather-title">ÎŸ ÎºÎ±Î¹ÏÏŒÏ‚ ÏƒÎ®Î¼ÎµÏÎ± ÏƒÏ„Î·Î½ Ï€ÎµÏÎ¹Î¿Ï‡Î® ÏƒÎ¿Ï…</div>
            <div id="weather-text" class="weather-text-main">
              Î¦Î¿ÏÏ„ÏÎ½Ï‰ Ï„Î¿Î½ ÎºÎ±Î¹ÏÏŒâ€¦
            </div>
            <div id="weather-subtext" class="weather-text-sub"></div>
            <div id="weather-advice" class="weather-text-sub"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Î Î»Î­Î³Î¼Î± ÎºÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½ -->
    <section class="mb-4">
      <h2 class="h5 mb-3">Î”Î¹Î¬Î»ÎµÎ¾Îµ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± ÎµÎ¹Î´Î®ÏƒÎµÏ‰Î½</h2>

      <!-- Î Î±Î»Î¹ÏŒ ÏƒÏÏƒÏ„Î·Î¼Î± ÎºÎ¿Ï…Î¼Ï€Î¹ÏÎ½, ÎºÏÏ…Î¼Î¼Î­Î½Î¿ -->
      <div
        id="category-filters"
        class="d-flex flex-wrap gap-2 category-buttons-row"
        aria-hidden="true"
      >
        <button
          type="button"
          class="btn btn-sm btn-primary category-btn"
          data-category="all"
        >
          ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="serious"
        >
          Î£Î¿Î²Î±ÏÎ­Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="sports"
        >
          Î‘Î¸Î»Î·Ï„Î¹ÏƒÎ¼ÏŒÏ‚
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="movies"
        >
          Î¤Î±Î¹Î½Î¯ÎµÏ‚
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="series"
        >
          Î£ÎµÎ¹ÏÎ­Ï‚
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="music"
        >
          ÎœÎ¿Ï…ÏƒÎ¹ÎºÎ®
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="theatre"
        >
          Î˜Î­Î±Ï„ÏÎ¿
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="fun"
        >
          Î”Î¹Î±ÏƒÎºÎ­Î´Î±ÏƒÎ·
        </button>

        <button
          type="button"
          class="btn btn-sm btn-outline-primary category-btn"
          data-category="other"
        >
          Î†Î»Î»ÎµÏ‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚
        </button>
      </div>

      <!-- ÎÎ­Î¿ Ï€Î»Î­Î³Î¼Î± ÎºÎ±ÏÏ„ÏÎ½ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½, Î¼Îµ ÏƒÎµÎ¹ÏÎ¬ ÏŒÏ€Ï‰Ï‚ Î¶Î®Ï„Î·ÏƒÎµÏ‚ -->
      <div class="category-grid" id="category-grid">
        <!-- 1. Î£Î¿Î²Î±ÏÎ­Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ (Ï€Î¬Î½Ï„Î± Ï€ÏÏÏ„ÎµÏ‚) -->
        <div class="category-tile active" data-category="serious" role="button" tabindex="0">
          <div class="category-tile-emoji">âš ï¸</div>
          <div class="category-tile-title">Î£Î¿Î²Î±ÏÎ­Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚</div>
          <div class="category-tile-subtitle">
            Î±Ï„Ï…Ï‡Î®Î¼Î±Ï„Î±, Ï…Î³ÎµÎ¯Î±, Î±ÏƒÏ†Î¬Î»ÎµÎ¹Î±, ÏƒÎ·Î¼Î±Î½Ï„Î¹ÎºÎ¬ Î³ÎµÎ³Î¿Î½ÏŒÏ„Î±
          </div>
        </div>

        <!-- 2. Î‘Î¸Î»Î·Ï„Î¹ÏƒÎ¼ÏŒÏ‚ -->
        <div class="category-tile" data-category="sports" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ…</div>
          <div class="category-tile-title">Î‘Î¸Î»Î·Ï„Î¹ÏƒÎ¼ÏŒÏ‚</div>
          <div class="category-tile-subtitle">
            Ï€Î¿Î´ÏŒÏƒÏ†Î±Î¹ÏÎ¿, Î¼Ï€Î¬ÏƒÎºÎµÏ„ ÎºÎ±Î¹ Î¬Î»Î»Î±
          </div>
        </div>

        <!-- 3. Î¤Î±Î¹Î½Î¯ÎµÏ‚ -->
        <div class="category-tile" data-category="movies" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ¬</div>
          <div class="category-tile-title">Î¤Î±Î¹Î½Î¯ÎµÏ‚</div>
          <div class="category-tile-subtitle">
            Î½Î­ÎµÏ‚ Ï„Î±Î¹Î½Î¯ÎµÏ‚ ÎºÎ±Î¹ ÏƒÎ¹Î½ÎµÎ¼Î¬
          </div>
        </div>

        <!-- 4. Î£ÎµÎ¹ÏÎ­Ï‚ -->
        <div class="category-tile" data-category="series" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ“º</div>
          <div class="category-tile-title">Î£ÎµÎ¹ÏÎ­Ï‚</div>
          <div class="category-tile-subtitle">
            ÏƒÎµÎ¹ÏÎ­Ï‚ ÏƒÏ„Î·Î½ Ï„Î·Î»ÎµÏŒÏÎ±ÏƒÎ· ÎºÎ±Î¹ ÏƒÏ„Î¹Ï‚ Ï€Î»Î±Ï„Ï†ÏŒÏÎ¼ÎµÏ‚
          </div>
        </div>

        <!-- 5. ÎœÎ¿Ï…ÏƒÎ¹ÎºÎ® -->
        <div class="category-tile" data-category="music" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸµ</div>
          <div class="category-tile-title">ÎœÎ¿Ï…ÏƒÎ¹ÎºÎ®</div>
          <div class="category-tile-subtitle">
            Ï„ÏÎ±Î³Î¿ÏÎ´Î¹Î±, ÏƒÏ…Î½Î±Ï…Î»Î¯ÎµÏ‚, ÎºÎ±Î»Î»Î¹Ï„Î­Ï‡Î½ÎµÏ‚
          </div>
        </div>

        <!-- 6. Î˜Î­Î±Ï„ÏÎ¿ -->
        <div class="category-tile" data-category="theatre" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ­</div>
          <div class="category-tile-title">Î˜Î­Î±Ï„ÏÎ¿</div>
          <div class="category-tile-subtitle">
            Ï€Î±ÏÎ±ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚ ÎºÎ±Î¹ Ï€Î¿Î»Î¹Ï„Î¹ÏƒÎ¼ÏŒÏ‚
          </div>
        </div>

        <!-- 7. Î”Î¹Î±ÏƒÎºÎ­Î´Î±ÏƒÎ· -->
        <div class="category-tile" data-category="fun" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ‰</div>
          <div class="category-tile-title">Î”Î¹Î±ÏƒÎºÎ­Î´Î±ÏƒÎ·</div>
          <div class="category-tile-subtitle">
            ÎµÎºÎ´Î·Î»ÏÏƒÎµÎ¹Ï‚, Ï†ÎµÏƒÏ„Î¹Î²Î¬Î», Î²ÏŒÎ»Ï„ÎµÏ‚
          </div>
        </div>

        <!-- 8. Î†Î»Î»ÎµÏ‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ -->
        <div class="category-tile" data-category="other" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ§©</div>
          <div class="category-tile-title">Î†Î»Î»ÎµÏ‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚</div>
          <div class="category-tile-subtitle">
            ÏŒ,Ï„Î¹ Î´ÎµÎ½ Ï„Î±Î¹ÏÎ¹Î¬Î¶ÎµÎ¹ ÏƒÎµ Î¬Î»Î»Î· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±
          </div>
        </div>

        <!-- 9. ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ (Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÎµÏ€Î¹Î»Î¿Î³Î®) -->
        <div class="category-tile" data-category="all" role="button" tabindex="0">
          <div class="category-tile-emoji">ğŸ—‚ï¸</div>
          <div class="category-tile-title">ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚</div>
          <div class="category-tile-subtitle">
            Î´ÎµÏ‚ ÏŒÎ»ÎµÏ‚ Î¼Î±Î¶Î¯
          </div>
        </div>
      </div>
    </section>

    <p id="status">Î¦Î¿ÏÏ„ÏÎ½Ï‰ Ï„Î¹Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚â€¦</p>

    <!-- Grid Î¼Îµ Î¬ÏÎ¸ÏÎ±: 2 ÎºÎ¬ÏÏ„ÎµÏ‚ Î±Î½Î¬ ÏƒÎµÎ¹ÏÎ¬ ÏƒÎµ md+ -->
    <div id="news" class="row g-3">
      <!-- ÎµÎ´Ï Î¸Î± Î¼Ï€Î¿Ï…Î½ Î¿Î¹ ÎºÎ¬ÏÏ„ÎµÏ‚ -->
    </div>
  </main>

  <!-- ğŸ‘‡ ÎµÎ¾Ï‰Ï„ÎµÏÎ¹ÎºÏŒ Î±ÏÏ‡ÎµÎ¯Î¿ Î³Î¹Î± Ï„Î¿ widget ÎºÎ±Î¹ÏÎ¿Ï -->
  <script src="weather-widget.js"></script>

  <!-- ğŸ‘‡ Î»Î¿Î³Î¹ÎºÎ® Î¼ÏŒÎ½Î¿ Î³Î¹Î± Ï„Î¹Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ + ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ -->
  <script>
    let globalArticles = [];
    // default ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: ÏƒÎ¿Î²Î±ÏÎ­Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚
    let activeCategory = "serious";

    function cleanMarkdown(text) {
      if (!text) return "";
      return text
        .replace(/\*\*(.+?)\*\*/g, "$1")
        .replace(/###\s*/g, "")
        .trim();
    }

    // Ï€ÏÎ¿Ï‚ Ï„Î¿ Ï€Î±ÏÏŒÎ½ Î´ÎµÎ½ Ï„Î¿ Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ ÏƒÏ„Î·Î½ Î±ÏÏ‡Î¹ÎºÎ®, Î±Î»Î»Î¬ Ï„Î¿ ÎºÏÎ±Ï„Î¬Ï‰
    // ÏƒÎµ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· Ï€Î¿Ï… Î¸ÎµÏ‚ ÎºÎ¿Ï…Î¼Ï€Î¯ "Î†ÎºÎ¿Ï…" ÎºÎ±Î¹ ÏƒÏ„Î· Î»Î¯ÏƒÏ„Î±
    function speak(text) {
      if (!("speechSynthesis" in window)) {
        alert("ÎŸ Ï€ÎµÏÎ¹Î·Î³Î·Ï„Î®Ï‚ Î´ÎµÎ½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ Î±Î½Î¬Î³Î½Ï‰ÏƒÎ· ÎºÎµÎ¹Î¼Î­Î½Î¿Ï….");
        return;
      }
      window.speechSynthesis.cancel();
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = "el-GR"; // ÎµÎ»Î»Î·Î½Î¹ÎºÎ¬, Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´Î¹Î±Î¸Î­ÏƒÎ¹Î¼ÎµÏ‚ Ï†Ï‰Î½Î­Ï‚
      window.speechSynthesis.speak(utterance);
    }

    function renderArticles() {
      const container = document.getElementById("news");
      const statusEl = document.getElementById("status");
      container.innerHTML = "";

      const filtered = globalArticles.filter((a) => {
        // extra safety: Î±Î½ Î³Î¹Î± ÎºÎ¬Ï€Î¿Î¹Î¿ Î»ÏŒÎ³Î¿ Î­ÏÎ¸ÎµÎ¹ isSensitive=true Î±Ï€ÏŒ backend, Î´ÎµÎ½ Ï„Î¿ Î´ÎµÎ¯Ï‡Î½Î¿Ï…Î¼Îµ
        if (a.isSensitive) return false;

        if (activeCategory === "all") return true;
        const cat = (a.category || "other").toLowerCase();
        return cat === activeCategory.toLowerCase();
      });

      if (!filtered.length) {
        statusEl.textContent = "Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚ ÏƒÎµ Î±Ï…Ï„Î® Ï„Î·Î½ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±.";
        return;
      } else {
        statusEl.textContent = "";
      }

      filtered.forEach((a, index) => {
        // 2 ÎºÎ¬ÏÏ„ÎµÏ‚ Î±Î½Î¬ ÏƒÎµÎ¹ÏÎ¬: col-12 ÏƒÏ„Î¿ ÎºÎ¹Î½Î·Ï„ÏŒ, col-md-6 ÏƒÎµ Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎµÏ‚ Î¿Î¸ÏŒÎ½ÎµÏ‚
        const col = document.createElement("div");
        col.className = "col-12 col-md-6";

        const card = document.createElement("article");
        card.className = "article-card-grid h-100";
        card.tabIndex = 0; // ÏÏƒÏ„Îµ Î½Î± Ï€Î±Ï„Î¹Î­Ï„Î±Î¹ ÎºÎ±Î¹ Î¼Îµ Enter
        card.setAttribute("role", "button");

        // Î¤Î¯Ï„Î»Î¿Ï‚ â€“ Î¹Î´Î±Î½Î¹ÎºÎ¬ Ï€Î±ÏÎ±Ï†ÏÎ±ÏƒÎ¼Î­Î½Î¿Ï‚ Î±Ï€ÏŒ LLM
        const titleEl = document.createElement("h2");
        titleEl.className = "article-card-title";
        const displayTitle = a.simpleTitle || a.title || "";
        titleEl.textContent = displayTitle;
        card.appendChild(titleEl);

        // Î ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ¬: Ï€Î·Î³Î®, Î±Î½ Ï„Î· Î´Î¯Î½ÎµÎ¹Ï‚ Î±Ï€ÏŒ Ï„Î¿ backend
        if (a.sourceName) {
          const metaEl = document.createElement("div");
          metaEl.className = "article-card-meta";
          metaEl.textContent = "Î Î·Î³Î®: " + a.sourceName;
          card.appendChild(metaEl);
        }

        col.appendChild(card);
        container.appendChild(col);

        // id Î¬ÏÎ¸ÏÎ¿Ï…: Î±Î½ Î­Ï‡ÎµÎ¹Ï‚ a.id Î±Ï€ÏŒ backend, Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ­ Ï„Î¿, Î±Î»Î»Î¹ÏÏ‚ fallback ÏƒÏ„Î¿ index
        const articleId = a.id != null ? a.id : index;

        const goToArticle = () => {
          window.location.href =
            "article.html?id=" + encodeURIComponent(articleId);
        };

        card.addEventListener("click", goToArticle);
        card.addEventListener("keypress", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            goToArticle();
          }
        });
      });
    }

    async function loadNews() {
      const statusEl = document.getElementById("status");

      try {
        const res = await fetch("news.json?cachebust=" + Date.now());
        if (!res.ok) {
          throw new Error("HTTP " + res.status);
        }

        const data = await res.json();
        const articles = (data && data.articles) || [];
        globalArticles = articles;

        if (!articles.length) {
          statusEl.textContent = "Î ÏÎ¿Ï‚ Ï„Î¿ Ï€Î±ÏÏŒÎ½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚.";
          return;
        }

        // Î±Ï†Î¿Ï Î­Ï‡Î¿Ï…Î¼Îµ articles, ÎºÎ¬Î½Î¿Ï…Î¼Îµ render Î¼Îµ Î²Î¬ÏƒÎ· Ï„Î·Î½ activeCategory
        setCategory(activeCategory);
      } catch (err) {
        console.error(err);
        statusEl.textContent =
          "Î ÏÎ¿Î­ÎºÏ…ÏˆÎµ Ï€ÏÏŒÎ²Î»Î·Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ ÎµÎ¹Î´Î®ÏƒÎµÏ‰Î½: " + err.message;
      }
    }

    // ÎšÎµÎ½Ï„ÏÎ¹ÎºÎ® ÏƒÏ…Î½Î¬ÏÏ„Î·ÏƒÎ· Î±Î»Î»Î±Î³Î®Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚
    function setCategory(newCategory) {
      activeCategory = newCategory;

      // ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· Ï€Î±Î»Î¹ÏÎ½ (ÎºÏÏ…Ï†ÏÎ½) ÎºÎ¿Ï…Î¼Ï€Î¹ÏÎ½
      const buttons = document.querySelectorAll(".category-btn");
      buttons.forEach((b) => {
        const cat = b.dataset.category || "all";
        if (cat === newCategory) {
          b.classList.remove("btn-outline-primary");
          b.classList.add("btn-primary", "active");
        } else {
          b.classList.remove("btn-primary", "active");
          b.classList.add("btn-outline-primary");
        }
      });

      // ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ· ÎºÎ±ÏÏ„ÏÎ½ Ï€Î»Î­Î³Î¼Î±Ï„Î¿Ï‚
      const tiles = document.querySelectorAll(".category-tile");
      tiles.forEach((tile) => {
        const cat = tile.dataset.category || "all";
        tile.classList.toggle("active", cat === newCategory);
      });

      renderArticles();

      // ÏƒÎµ Î¼Î¹ÎºÏÎ­Ï‚ Î¿Î¸ÏŒÎ½ÎµÏ‚ ÎºÎ¬Î½Î¿Ï…Î¼Îµ scroll ÏƒÏ„Î± Î¬ÏÎ¸ÏÎ±
      const newsSection = document.getElementById("news");
      if (newsSection && window.innerWidth < 768) {
        newsSection.scrollIntoView({ behavior: "smooth", block: "start" });
      }
    }

    function initCategoryFilters() {
      const buttons = document.querySelectorAll(".category-btn");
      buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const cat = btn.dataset.category || "all";
          setCategory(cat);
        });
      });

      const tiles = document.querySelectorAll(".category-tile");
      tiles.forEach((tile) => {
        tile.addEventListener("click", () => {
          const cat = tile.dataset.category || "all";
          setCategory(cat);
        });
        tile.addEventListener("keypress", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            const cat = tile.dataset.category || "all";
            setCategory(cat);
          }
        });
      });

      // Î¾ÎµÎºÎ¹Î½Î¬Î¼Îµ Î±Ï€ÏŒ Ï„Î¹Ï‚ "Î£Î¿Î²Î±ÏÎ­Ï‚ ÎµÎ¹Î´Î®ÏƒÎµÎ¹Ï‚"
      setCategory("serious");
    }

    // Î•ÎºÎºÎ¯Î½Î·ÏƒÎ·: Ï€ÎµÏÎ¹Î¼Î­Î½Î¿Ï…Î¼Îµ Î½Î± Ï†Î¿ÏÏ„ÏÏƒÎµÎ¹ Ï„Î¿ DOM
    document.addEventListener("DOMContentLoaded", () => {
      loadNews();
      initCategoryFilters();
      if (window.initWeatherWidget) {
        window.initWeatherWidget();
      }
    });
  </script>
</body>
</html>
